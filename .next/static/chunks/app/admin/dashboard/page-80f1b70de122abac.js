(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{21314:function(e,a,t){Promise.resolve().then(t.bind(t,75410))},75410:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return Z}});var s=t(57437),r=t(2265),n=t(66070),l=t(62869),i=t(35974),d=t(79205);let c=(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var o=t(48736),u=t(91723),m=t(49322),h=t(41671);let x=(0,d.Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var f=t(62720);let g=(0,d.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var p=t(44794),v=t(70525),j=t(27648),y=t(99376),b=t(52652),N=t(96102),k=t(83464),w=t(94995);function Z(){var e,a,t,d,Z,S;let C=b.V.getItem("info"),[M,z]=(0,r.useState)(!1),[_,A]=(0,r.useState)(!1),[O,P]=(0,r.useState)([]),[T,D]=(0,r.useState)({}),[E,R]=(0,r.useState)([]),[V,B]=(0,r.useState)(""),L=(0,y.useRouter)(),H=async()=>{A(!0);try{var e;let a=await (0,N.Z)().get("/complaints/report");D(null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.data),A(!1)}catch(e){throw A(!1),console.error("❌ Gagal ambil semua produk:",e),e}},K=async()=>{A(!0);try{let e=await k.Z.get("".concat("http://localhost:4000","/categories"));A(!1),P(e.data)}catch(e){console.error("Error saat fetching:",e),P([]),A(!1),(0,w.S)(e)}};if((0,r.useEffect)(()=>{(null==C?void 0:C.token)?z(!0):L.push("/admin")},[C]),(0,r.useEffect)(()=>{H(),K()},[]),!M)return(0,s.jsx)("div",{children:"Memuat..."});let Y=e=>{switch(e){case"Menunggu":return"bg-yellow-100 text-yellow-800";case"Dalam Proses":return"bg-blue-100 text-blue-800";case"Selesai":return"bg-green-100 text-green-800";case"Ditolak":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dasbor Admin"}),(0,s.jsxs)("nav",{className:"flex items-center space-x-4",children:[(0,s.jsx)(j.default,{href:"/admin/complaints",children:(0,s.jsx)(l.z,{variant:"ghost",children:"Pengaduan"})}),(0,s.jsx)(j.default,{href:"/admin/products",children:(0,s.jsx)(l.z,{variant:"ghost",children:"Produk"})}),(0,s.jsx)(j.default,{href:"/admin/categories",children:(0,s.jsx)(l.z,{variant:"ghost",children:"Kategori"})}),(0,s.jsx)(j.default,{href:"/admin/reports",children:(0,s.jsx)(l.z,{variant:"ghost",children:"Laporan"})}),(0,s.jsxs)(l.z,{variant:"outline",onClick:()=>{localStorage.removeItem("adminAuth"),L.push("/admin")},className:"flex items-center gap-2",children:[(0,s.jsx)(c,{className:"w-4 h-4"}),"Keluar"]})]})]})})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex justify-between pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium",children:"Total Pengaduan"}),(0,s.jsx)(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(n.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:null==T?void 0:null===(e=T.summary)||void 0===e?void 0:e.totalComplaints})})]}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex justify-between pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium",children:"Menunggu"}),(0,s.jsx)(u.Z,{className:"h-4 w-4 text-yellow-600"})]}),(0,s.jsxs)(n.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:null==T?void 0:null===(a=T.summary)||void 0===a?void 0:a.pendingComplaints}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Menunggu ditinjau"})]})]}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex justify-between pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium",children:"Dalam Proses"}),(0,s.jsx)(m.Z,{className:"h-4 w-4 text-blue-600"})]}),(0,s.jsxs)(n.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:null==T?void 0:null===(t=T.summary)||void 0===t?void 0:t.inProgressComplaints}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Sedang diproses"})]})]}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{className:"flex justify-between pb-2",children:[(0,s.jsx)(n.ll,{className:"text-sm font-medium",children:"Selesai"}),(0,s.jsx)(h.Z,{className:"h-4 w-4 text-green-600"})]}),(0,s.jsxs)(n.aY,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:null==T?void 0:null===(d=T.summary)||void 0===d?void 0:d.resolvedComplaints}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Selesai ditangani"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{children:[(0,s.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(x,{className:"w-5 h-5"}),"Tren Pengaduan Bulanan"]}),(0,s.jsx)(n.SZ,{children:"Jumlah pengaduan dalam 6 bulan terakhir"})]}),(0,s.jsx)(n.aY,{children:null==T?void 0:null===(Z=T.monthly)||void 0===Z?void 0:Z.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,s.jsx)("div",{className:"w-12",children:e.month}),(0,s.jsx)("div",{className:"flex-1 bg-gray-200 h-2 rounded-full",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.complaints/70*100,"%")}})}),(0,s.jsx)("div",{className:"w-12 text-right",children:e.complaints})]},a))})]}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{children:[(0,s.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(f.Z,{className:"w-5 h-5"}),"Berdasarkan Kategori"]}),(0,s.jsx)(n.SZ,{children:"Distribusi pengaduan berdasarkan jenis"})]}),(0,s.jsx)(n.aY,{children:null==T?void 0:null===(S=T.byCategory)||void 0===S?void 0:S.map((e,a)=>(0,s.jsxs)("div",{className:"space-y-2 mb-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:e.category}),(0,s.jsxs)("span",{children:[e.count," (",e.percentage,"%)"]})]}),(0,s.jsx)("div",{className:"bg-gray-200 h-2 rounded-full",children:(0,s.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:"".concat(e.percentage,"%")}})})]},a))})]})]}),(0,s.jsx)("div",{className:"",children:E.map(e=>{var a,t;return(0,s.jsxs)("div",{className:"p-4 border rounded-lg flex justify-between items-center hover:bg-gray-50",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,s.jsx)("h4",{className:"font-medium",children:e.code_complaint}),(0,s.jsx)(i.C,{className:Y(e.status),children:e.status})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(g,{className:"inline w-4 h-4 mr-1"})," ",e.customer_name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Z,{className:"inline w-4 h-4 mr-1"})," ",null==e?void 0:null===(a=e.product)||void 0===a?void 0:a.product_name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(f.Z,{className:"inline w-4 h-4 mr-1"})," ",null===(t=e.category)||void 0===t?void 0:t.category_name]}),(0,s.jsx)("div",{children:e.date_occurrence})]})]}),(0,s.jsx)(j.default,{href:"/admin/complaints/".concat(e.id),children:(0,s.jsx)(l.z,{variant:"outline",size:"sm",children:"Lihat"})})]},e.id)})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-1",children:[(0,s.jsx)(n.Zb,{className:"hover:shadow-md cursor-pointer",children:(0,s.jsx)(j.default,{href:"/admin/complaints",children:(0,s.jsxs)(n.Ol,{children:[(0,s.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"w-5 h-5"}),"Kelola Pengaduan"]}),(0,s.jsx)(n.SZ,{children:"Lihat dan tanggapi pengaduan pelanggan"})]})})}),(0,s.jsx)(n.Zb,{className:"hover:shadow-md cursor-pointer",children:(0,s.jsx)(j.default,{href:"/admin/products",children:(0,s.jsxs)(n.Ol,{children:[(0,s.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(p.Z,{className:"w-5 h-5"}),"Kelola Produk"]}),(0,s.jsx)(n.SZ,{children:"Tambah, ubah, dan atur produk"})]})})}),(0,s.jsx)(n.Zb,{className:"hover:shadow-md cursor-pointer",children:(0,s.jsx)(j.default,{href:"/admin/reports",children:(0,s.jsxs)(n.Ol,{children:[(0,s.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Z,{className:"w-5 h-5"}),"Buat Laporan"]}),(0,s.jsx)(n.SZ,{children:"Buat laporan dan ekspor data"})]})})})]})]})]})}},35974:function(e,a,t){"use strict";t.d(a,{C:function(){return i}});var s=t(57437);t(2265);var r=t(90535),n=t(94508);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:t}),a),...r})}},62869:function(e,a,t){"use strict";t.d(a,{d:function(){return d},z:function(){return c}});var s=t(57437),r=t(2265),n=t(37053),l=t(90535),i=t(94508);let d=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,a)=>{let{className:t,variant:r,size:l,asChild:c=!1,...o}=e,u=c?n.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:r,size:l,className:t})),ref:a,...o})});c.displayName="Button"},66070:function(e,a,t){"use strict";t.d(a,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return o},ll:function(){return d}});var s=t(57437),r=t(2265),n=t(94508);let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},52652:function(e,a,t){"use strict";t.d(a,{V:function(){return s}});let s=new(t(93277)).EncryptStorage("__FR#WEB001",{storageType:"localStorage"})},96102:function(e,a,t){"use strict";var s=t(83464),r=t(93277);a.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=new r.EncryptStorage("__FR#WEB001"),t=a.getItem("info"),n=(null==t?void 0:t.token)||"",l=s.Z.create({baseURL:"http://localhost:4000",headers:{Authorization:"Bearer ".concat(n),"Accept-Language":"en"}});return l.interceptors.response.use(e=>e,t=>{var s;return"auth"!==e&&(null==t?void 0:null===(s=t.response)||void 0===s?void 0:s.status)===403&&(a.clear(),localStorage.clear(),window.location.href="/admin"),Promise.reject(t)}),l}},94995:function(e,a,t){"use strict";let s;t.d(a,{S:function(){return l}});var r=t(69064);let n=!1,l=e=>{var a,t,l;let i=null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.status,d=(null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.message)||"Terjadi kesalahan",c=(e,a)=>{n||(n=!0,r.ZP.error(d||"Server Error"),clearTimeout(s),s=setTimeout(()=>{n=!1},1e3))};if(401===i){c("Unauthorized","Silakan login ulang");return}switch(i){case 400:case 409:c("Gagal Menghapus Data",d);break;case 403:c("Akses Ditolak","Anda tidak memiliki akses.");break;case 404:c("Data Tidak Ditemukan","Data yang Anda cari tidak tersedia atau mungkin sudah dihapus.");break;case 500:c("Kesalahan Sistem","Terjadi gangguan pada sistem. Silakan coba lagi nanti atau hubungi administrator.");break;default:c("Gangguan Sistem","Kami mengalami kendala saat memproses permintaan Anda.")}}},94508:function(e,a,t){"use strict";t.d(a,{cn:function(){return n}});var s=t(61994),r=t(53335);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.m6)((0,s.W)(a))}},49322:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},41671:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},91723:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},48736:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},44794:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},62720:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},70525:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}},function(e){e.O(0,[429,64,979,971,117,744],function(){return e(e.s=21314)}),_N_E=e.O()}]);